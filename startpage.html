<!doctype html>

<html lang="en">

<script type="text/javascript">
  function runLasernetAPI() {
    document.getElementById("statusText").innerHTML = "Generating Report";
    var startDate = document.getElementById("startDate").value;
    var endDate = document.getElementById("endDate").value;
    var apiUrl = 'http://20.0.21.101:18080/webinputport/JiraTimeReport?startDate=' + startDate + '&endDate=' + endDate;

    console.log(apiUrl);
    fetch(apiUrl, {mode: 'no-cors', method: 'POST'}).then(response => {
      return response.json();
    }).then(data => {
      document.getElementById("statusText").innerHTML = "Report Complete";
      console.log(data);
    }).catch(err => {
      document.getElementById("statusText").innerHTML = "Report should be complete";
    });
  }
</script>


<head>
  <meta charset="utf-8">
  <title>Jira Time Report</title>
</head>

<body>
  <label for="start">Start date:</label>
  <input type="date" id="startDate" name="start-date" min="2024-01-01" />
  <br />
  <br />
  <label for="start">End date:</label>
  <input type="date" id="endDate" name="end-date" min="2024-01-01" />
  <br />
  <br />
  <input id="RunReport" type="button" value="Run Report" onclick="runLasernetAPI();" />
  <br />
  <br />
  <p id="statusText">Ready to start</p>
</body>

</html>